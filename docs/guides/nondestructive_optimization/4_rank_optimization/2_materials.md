---
sidebar_position: 2
---

# Количество материалов (Material Slots)

## Описание

Для материалов считается количество слотов материалов на всех мешах плюс на частицах (Particle Systems).
Изменение материалов с помощью анимаций не влияет на количество материалов; это увеличивает память текстур и вес аватара.

## Способы оптимизации

### Объединение одинаковых материалов при объединении мешей

Если на [объединяемых мешах](./meshes) будут одинаковые материалы (частая ситуация), в новый меш попадет только один.

### Объединение MatCap-материалов 

Некоторые материалы не содержат основной текстуры и имеют только MatCap-текстуру. Они используются, например, для материалов металла, золота и прочих вещей.

![MatCap-материал](/img/guides/nondestructive_optimization/image-54.png)

Такие материалы можно смело менять один на другой, и для уменьшения материалов на аватаре подходящие материалы можно заменить на один (например, при наличии материалов  серебра и золота оставить только один). При объединении мешей оптимизатор аватаров оставит только один слот с нужным материалом.

![Объединение MatCap-материалов](/img/guides/nondestructive_optimization/image-55.png)

### TODO Ручное объединение материалов в Unity

:::note
Данный шаг является практически единственным, который ограничивает возможности гайда для создания good-аватаров, т.к. мне пока известно только об объединении разных материалов в один только с помощью 3D-редактора. На следующие версии гайда проверю что умеет пакет [TexTransTool](https://ttt.rs64.net/en/). Если он сможет недеструктивно объединять материалы, это будет просто имба. Пока что материалы можно объединить с помощью 3D-редактора типа Blender'а.

Проверю в следующей версии гайда
:::