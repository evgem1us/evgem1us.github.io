# Animators (Количество аниматоров)

## Описание

На любом аватаре всегда есть как минимум один аниматор - аниматор самого аватара. В нем объединены все аниматоры из дескриптора аватара.

Дополнительные аниматоры иногда бывают на дополнительных элементах одежды или предметах. Такие аниматоры никак не управляются основным аватаром и существуют сами по себе (из примеров могу вспомнить анимацию нимба на некоторых костюмах). Но их можно встроить в аниматор аватара.

На некоторых префабах, работающих на Modular Avatar, может встречать компонент `Animator` вместе с `MA Merge Animator`, он уже должен быть правильно настроен и удален при сборке аватара. На скриншоте ниже - пример префаба одежды.
![MA Merge Animator](/img/guides/nondestructive_optimization/image-62.png)

:::warning
Вообще, согласно [вот этой статье](https://vrc.school/docs/Other/Benchmarks/#53522b80ca174b369736ba6ef73f63dd), лучше иметь больше разных аниматоров, чем больше слоев на одном аниматоре.
:::

## Объединение аниматоров с Modular Avatar

1. На GameObject (но не на корень аватара) с компонентом `Animator` добавьте компонент `MA Merge Animator`, если его там нет
2. В компоненте поставьте галочки `Delete Attached Animator` и `Match Avatar Write Defaults`
3. `Layer Type` должен быть `FX` в 95% случаев (кроме Locomotion, аниматора жестов и анимаций рига типа танцев)
4. `Path Mode` определяет относительно чего записаны анимации в аниматоре:
   1. `Relative to this object` - относительно объекта с аниматором. Для объектов, добавляющих дополнительный аниматор в аватар, скорее всего должен быть именно этот вариант.
   2. `Absolute (based on avatar root)` - относительно аватара. Обычно используется в одеждах, которые в анимациях управляют базовой моделью аватара (например, сжимают части тела при включенной одежде)
5. `Layer Priority` влияет на порядок, в котором аниматоры из всех компонентов `MA Merge Animator` будут добавлены в основной. В большинстве случаев достаточно оставить 0 (добавятся в порядке, в котором находятся в аватаре).
6. `Merge Mode` должен быть `Append to Animator` - добавить в аниматор. Другой вариант заменяет аниматор целиком, такая штука нужна для других вещей.
